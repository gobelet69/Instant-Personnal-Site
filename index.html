<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Portfolio | Ultra-Optimized</title>
    <link rel="icon" href="data:,">
    <style>
        :root { --bg: #0a0a0a; --txt: #eee; --card: #1a1a1a; --acc: #00ff41; }
        .light { --bg: #f5f5f5; --txt: #222; --card: #fff; --acc: #0070f3; }
        body { font-family: system-ui, sans-serif; background: var(--bg); color: var(--txt); max-width: 650px; margin: 0 auto; padding: 20px; line-height: 1.5; transition: background 0.3s; }
        header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; padding-bottom: 10px; }
        button { cursor: pointer; background: var(--acc); border: none; padding: 5px 10px; border-radius: 4px; font-weight: bold; color: #000; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 20px 0; }
        .card { background: var(--card); border: 1px solid #333; padding: 15px; border-radius: 8px; }
        a { color: var(--acc); text-decoration: none; font-weight: 500; }
        #game-container { text-align: center; margin-top: 40px; border-top: 1px solid #444; padding-top: 20px; }
        canvas { display: block; margin: 15px auto; background: #000; border: 2px solid var(--acc); width: 100%; max-width: 400px; touch-action: none; }
        footer { margin-top: 50px; padding: 20px; font-size: 0.85em; border-top: 1px solid #333; opacity: 0.8; }
        code { background: rgba(128,128,128,0.2); padding: 2px 4px; border-radius: 3px; font-family: monospace; }
    </style>
</head>
<body>

    <header>
        <h1>John Doe</h1>
        <button onclick="document.body.classList.toggle('light')">ðŸŒ“ Theme</button>
    </header>

    <main>
        <section>
            <p>Fullstack Developer specialized in <b>web performance</b>. I build high-efficiency digital experiences.</p>
            <div class="grid">
                <div class="card"><strong>ðŸš€ Project One</strong><p>A minimalist rendering engine.</p><a href="#">Source Code â†’</a></div>
                <div class="card"><strong>âš¡ Project Two</strong><p>High-performance Micro-API.</p><a href="#">Live Demo â†’</a></div>
            </div>
            <p><a href="#">GitHub</a> â€¢ <a href="#">LinkedIn</a> â€¢ <a href="mailto:hello@example.com">Email Me</a></p>
        </section>

        <section id="game-container">
            <strong>Snake Game â€” Score: <span id="s">0</span></strong>
            <canvas id="g" width="400" height="400"></canvas>
            <p><small>(Use arrow keys to play)</small></p>
        </section>
    </main>

    <footer>
        <p>
            <strong>Why is this site so fast?</strong><br>
            This entire page is under <code>14 KB</code>. This is a deliberate performance optimization targeting the <strong>TCP Initial Congestion Window (IW10)</strong>.
        </p>
        <p>
            By staying below this threshold, the browser receives the full payload (HTML, CSS, JS, and the game) in a single <code>Round-Trip Time (RTT)</code> following the <code>TCP Handshake</code>. This avoids additional network round-trips, resulting in near-instantaneous load times even on slow connections.
        </p>
    </footer>

    <script>
        const c=document.getElementById("g"), x=c.getContext("2d"), s=document.getElementById("s");
        let score=0, sn=[{x:10,y:10}], f={x:15,y:15}, dx=0, dy=0, sz=20, ct=20;
        function draw() {
            let h = {x: sn[0].x + dx, y: sn[0].y + dy};
            if(h.x<0) h.x=ct-1; if(h.x>=ct) h.x=0;
            if(h.y<0) h.y=ct-1; if(h.y>=ct) h.y=0;
            for(let i=0; i<sn.length; i++) {
                if(h.x==sn[i].x && h.y==sn[i].y && (dx!=0 || dy!=0)) {
                    dx=dy=score=0; sn=[{x:10,y:10}]; s.innerText=0; return;
                }
            }
            sn.unshift(h);
            if(h.x==f.x && h.y==f.y) {
                score++; s.innerText=score;
                f={x:Math.floor(Math.random()*ct), y:Math.floor(Math.random()*ct)};
            } else if(dx!=0 || dy!=0) sn.pop();
            x.fillStyle="#000"; x.fillRect(0,0,400,400);
            x.fillStyle="#0f3"; sn.forEach(p=>x.fillRect(p.x*sz, p.y*sz, sz-1, sz-1));
            x.fillStyle="#f00"; x.fillRect(f.x*sz, f.y*sz, sz-1, sz-1);
        }
        window.onkeydown = e => {
            const k=e.keyCode;
            if(k==37 && dx==0) dx=-1,dy=0; else if(k==38 && dy==0) dx=0,dy=-1;
            else if(k==39 && dx==0) dx=1,dy=0; else if(k==40 && dy==0) dx=0,dy=1;
            if(k>=37 && k<=40) e.preventDefault();
        };
        setInterval(draw, 100);
    </script>
</body>
</html>